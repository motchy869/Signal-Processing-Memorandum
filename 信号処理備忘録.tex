\RequirePackage{plautopatch}
\documentclass[dvipdfmx,uplatex,report]{jsbook} % \documentclass[a4paper]{jsreport}
\RequirePackage[l2tabu, orthodox]{nag} % 古いコマンド, パッケージに対する警告
\usepackage{amsmath, amssymb, amsfonts, amsthm}
\usepackage{ascmac}
\usepackage{bbm}
\usepackage{bigdelim}
\usepackage{cases}
\usepackage[usenames]{color}
\usepackage{comment}
\usepackage{currfile}
\usepackage{empheq}
\usepackage{fancybox}
\usepackage{graphicx}
\usepackage{here}
\usepackage[dvipdfmx,colorlinks,linkcolor=Blue,urlcolor=blue,bookmarksopenlevel=4]{hyperref}
\usepackage{ifthen}
\usepackage{mathtools}
\usepackage{multirow}
\usepackage{nameref}
\usepackage{pxjahyper}
\usepackage{siunitx}
\usepackage{tabularx, arydshln}
\usepackage{udline}
\usepackage{url}
\usepackage{zref-xr}

% cross reference
\zxrsetup{toltxlabel} % use normal LaTeX style \ref
\zexternaldocument*[1:]{reference/Mathematics_Memorandum_v0.12.0} % usage: \zexternaldocument*[prefix]{path/to/aux/file/without/extension}[path/to/pdf/file] Only ascii name is allowed.

\theoremstyle{definition} % 定理環境:斜体なし
\newtheorem*{commentary}{解説}
\newtheorem*{attention}{注意}
\newtheorem*{solution}{解法}
\newtheorem*{definition}{定義}
\input{macros/subsubsubsection}

% section, subsection, subsubsection の先頭に部番号が付くようにする
\makeatletter
\@addtoreset{chapter}{part}\renewcommand{\thechapter}{\thepart.\arabic{chapter}}
\@addtoreset{section}{chapter}\renewcommand{\thesection}{\thechapter.\arabic{section}}
\@addtoreset{subsection}{section}\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
\@addtoreset{subsubsection}{subsection}\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}
\@addtoreset{subsubsubsection}{subsubsection}\renewcommand{\thesubsubsubsection}{\thesubsubsection.\arabic{subsubsubsection}}

\renewcommand{\theequation}{\arabic{equation}} % jsbook によって書き換えられた \theequation を元に戻す

% part, chapter, section, subsection, subsubsection, subsubsubsection 毎に数式,図番号をリセットする
\@addtoreset{equation}{part}
\@addtoreset{equation}{chapter}
\@addtoreset{equation}{section}
\@addtoreset{equation}{subsection}
\@addtoreset{equation}{subsubsection}
\@addtoreset{equation}{subsubsubsection}

\@addtoreset{figure}{part}
\@addtoreset{figure}{chapter}
\@addtoreset{figure}{section}
\@addtoreset{figure}{subsection}
\@addtoreset{figure}{subsubsection}
\@addtoreset{figure}{subsubsubsection}

% @dottedtocline の空白版
\newcommand{\@motchyTocline}[5]{%
	\ifnum #1>\c@tocdepth \else
	\vskip \z@ \@plus.2\p@
	{%
		\leftskip #2\relax \rightskip \@tocrmarg \parfillskip -\rightskip
		\parindent #2\relax\@afterindenttrue
		\interlinepenalty\@M
		\leavevmode
		\@lnumwidth #3\relax
		\advance\leftskip \@lnumwidth \null\nobreak\hskip -\leftskip
		\textbf{\footnotesize #4}\nobreak
		\leaders\hbox{$\m@th \mkern \@dotsep mu\hbox{\quad}\mkern \@dotsep
		mu$}\hfill \nobreak\hb@xt@\@pnumwidth{%
		\hfil\normalfont \normalcolor #5}\par%
	}\fi%
}

% 目次の番号とタイトルが重ならないようにする
% dottedtocline{A}{B}{C}のパラメータABC
%   A：目次を生成するレベル(\chapterはレベル0、\sectionはレベル1...)
%   B：一番外側からの左マージン
%   C：見出し番号が入るボックスの幅
\renewcommand{\l@chapter}{\@motchyTocline{0}{0em}{7em}}
\renewcommand{\l@section}{\@dottedtocline{1}{1em}{7em}}
\renewcommand{\l@subsection}{\@dottedtocline{2}{2em}{6em}}
\renewcommand{\l@subsubsection}{\@dottedtocline{3}{3em}{5em}}
\makeatother

\setcounter{tocdepth}{4} % subsubsubsection まで目次に表示する

\input{macros/LaTeX-motchyMacros/motchyMacros}

\begin{document}
	\title{信号処理備忘録}
	\author{motchy}
	\date{\西暦 2019年11月16日 $\sim$ \today \\ver 0.5.0}
	\maketitle
	{\scriptsize \tableofcontents}

	\input{parts/notation/notation.tex}
	\input{parts/convolution/convolution.tex}
	\input{parts/correlation/correlation.tex}
	\input{parts/FourierSeries_and_FourierTransform/FourierSeries_and_FourierTransform.tex}
	\input{parts/LaplaceTransform/LaplaceTransform.tex}
	\input{parts/Z-transform/Z-transform.tex}
	\input{parts/application/application.tex}
	\input{parts/others/others.tex}

	\begin{thebibliography}{9}
		\bibitem{数学備忘録}motchy (2022) 『数学備忘録 v0.12.0』\url{https://github.com/motchy869/Mathematics-Memorandum/releases/tag/v0.12.0}
	\end{thebibliography}
\end{document}
